import{S as oe,i as ae,s as ie,R as Q,T as W,m as E,h as u,n as k,b as S,G as h,B as H,w as R,x as T,y as z,f as w,t as N,z as G,H as de,e as Z,g as j,d as F,J as pe,k as I,l as D,I as ce,q as y,r as B,a as C,c as M,u as X,K as fe,M as x}from"../../../../chunks/index-1b64e03c.js";import{o as me,d as he,b as ee,L as $e,r as ge,l as be}from"../../../../chunks/client-7ab338e8.js";import{C as ve,L as ke}from"../../../../chunks/LineItem-b2efe33e.js";import{E as we,B as K}from"../../../../chunks/EnsureLoggedIn-49af5f1c.js";function Ee(r){let e,n,t;return{c(){e=Q("svg"),n=Q("path"),t=Q("path"),this.h()},l(l){e=W(l,"svg",{xmlns:!0,fill:!0,height:!0,viewBox:!0});var a=E(e);n=W(a,"path",{d:!0,fill:!0}),E(n).forEach(u),t=W(a,"path",{d:!0}),E(t).forEach(u),a.forEach(u),this.h()},h(){k(n,"d","M0 0h24v24H0V0z"),k(n,"fill","none"),k(t,"d","M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"),k(e,"xmlns","http://www.w3.org/2000/svg"),k(e,"fill","#000000"),k(e,"height","1em"),k(e,"viewBox","0 0 24 24")},m(l,a){S(l,e,a),h(e,n),h(e,t)},p:H,i:H,o:H,d(l){l&&u(e)}}}class Ne extends oe{constructor(e){super(),ae(this,e,null,Ee,ie,{})}}function te(r,e,n){const t=r.slice();return t[13]=e[n],t[14]=e,t[15]=n,t}function ne(r,e,n){const t=r.slice();return t[16]=e[n],t}function Ie(r){let e,n,t=r[1].ordered_breaks,l=[];for(let o=0;o<t.length;o+=1)l[o]=se(te(r,t,o));const a=o=>N(l[o],1,1,()=>{l[o]=null});return{c(){e=I("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var i=E(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(u),this.h()},h(){k(e,"class","flex flex-col gap-y-2")},m(o,i){S(o,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null);n=!0},p(o,i){if(i&63){t=o[1].ordered_breaks;let s;for(s=0;s<t.length;s+=1){const c=te(o,t,s);l[s]?(l[s].p(c,i),w(l[s],1)):(l[s]=se(c),l[s].c(),w(l[s],1),l[s].m(e,null))}for(j(),s=t.length;s<l.length;s+=1)a(s);F()}},i(o){if(!n){for(let i=0;i<t.length;i+=1)w(l[i]);n=!0}},o(o){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)N(l[i]);n=!1},d(o){o&&u(e),ce(l,o)}}}function De(r){let e,n;return{c(){e=I("div"),n=y("no breaks lol")},l(t){e=D(t,"DIV",{});var l=E(e);n=B(l,"no breaks lol"),l.forEach(u)},m(t,l){S(t,e,l),h(e,n)},p:H,i:H,o:H,d(t){t&&u(e)}}}function Se(r){let e,n,t,l,a,o,i;function s(b,$){return b[13].twitch_username?Pe:Le}let c=s(r),d=c(r);l=new Ne({});function V(){return r[11](r[15])}return{c(){e=I("span"),d.c(),n=C(),t=I("button"),R(l.$$.fragment)},l(b){e=D(b,"SPAN",{});var $=E(e);d.l($),n=M($),t=D($,"BUTTON",{});var A=E(t);T(l.$$.fragment,A),A.forEach(u),$.forEach(u)},m(b,$){S(b,e,$),d.m(e,null),h(e,n),h(e,t),z(l,t,null),a=!0,o||(i=fe(t,"click",V),o=!0)},p(b,$){r=b,c===(c=s(r))&&d?d.p(r,$):(d.d(1),d=c(r),d&&(d.c(),d.m(e,n)))},i(b){a||(w(l.$$.fragment,b),a=!0)},o(b){N(l.$$.fragment,b),a=!1},d(b){b&&u(e),d.d(),G(l),o=!1,i()}}}function Ve(r){let e,n,t,l,a,o;function i(){r[9].call(e,r[14],r[15])}return t=new K({props:{type:"secondary",disabled:!1,onclick:r[10],$$slots:{default:[Ue]},$$scope:{ctx:r}}}),{c(){e=I("input"),n=y(` 
								`),R(t.$$.fragment)},l(s){e=D(s,"INPUT",{}),n=B(s,` 
								`),T(t.$$.fragment,s)},m(s,c){S(s,e,c),x(e,r[13].twitch_username),S(s,n,c),z(t,s,c),l=!0,a||(o=fe(e,"input",i),a=!0)},p(s,c){r=s,c&2&&e.value!==r[13].twitch_username&&x(e,r[13].twitch_username);const d={};c&524288&&(d.$$scope={dirty:c,ctx:r}),t.$set(d)},i(s){l||(w(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&u(e),s&&u(n),G(t,s),a=!1,o()}}}function Le(r){let e,n;return{c(){e=I("span"),n=y("NO USERNAME PROVIDED"),this.h()},l(t){e=D(t,"SPAN",{class:!0});var l=E(e);n=B(l,"NO USERNAME PROVIDED"),l.forEach(u),this.h()},h(){k(e,"class","text-red-500")},m(t,l){S(t,e,l),h(e,n)},p:H,d(t){t&&u(e)}}}function Pe(r){let e=r[13].twitch_username+"",n;return{c(){n=y(e)},l(t){n=B(t,e)},m(t,l){S(t,n,l)},p(t,l){l&2&&e!==(e=t[13].twitch_username+"")&&X(n,e)},d(t){t&&u(n)}}}function Ue(r){let e;return{c(){e=y("Update")},l(n){e=B(n,"Update")},m(n,t){S(n,e,t)},d(n){n&&u(e)}}}function ye(r){let e,n,t,l,a,o,i,s,c,d=r[13].order_id+"",V,b,$;const A=[Ve,Se],L=[];function _(m,f){return m[0]===m[15]?0:1}return t=_(r),l=L[t]=A[t](r),{c(){e=I("span"),n=I("div"),l.c(),a=C(),o=I("div"),i=C(),s=I("span"),c=y("#"),V=y(d),b=C(),this.h()},l(m){e=D(m,"SPAN",{slot:!0});var f=E(e);n=D(f,"DIV",{class:!0});var U=E(n);l.l(U),a=M(U),o=D(U,"DIV",{class:!0}),E(o).forEach(u),i=M(U),s=D(U,"SPAN",{class:!0});var J=E(s);c=B(J,"#"),V=B(J,d),J.forEach(u),U.forEach(u),b=M(f),f.forEach(u),this.h()},h(){k(o,"class","grow"),k(s,"class","font-mono"),k(n,"class","flex"),k(e,"slot","header")},m(m,f){S(m,e,f),h(e,n),L[t].m(n,null),h(n,a),h(n,o),h(n,i),h(n,s),h(s,c),h(s,V),h(e,b),$=!0},p(m,f){let U=t;t=_(m),t===U?L[t].p(m,f):(j(),N(L[U],1,1,()=>{L[U]=null}),F(),l=L[t],l?l.p(m,f):(l=L[t]=A[t](m),l.c()),w(l,1),l.m(n,a)),(!$||f&2)&&d!==(d=m[13].order_id+"")&&X(V,d)},i(m){$||(w(l),$=!0)},o(m){N(l),$=!1},d(m){m&&u(e),L[t].d()}}}function le(r){let e,n,t=r[13].order.buyerNote+"",l;return{c(){e=I("div"),n=y("Note: "),l=y(t),this.h()},l(a){e=D(a,"DIV",{class:!0});var o=E(e);n=B(o,"Note: "),l=B(o,t),o.forEach(u),this.h()},h(){k(e,"class","font-semi-bold")},m(a,o){S(a,e,o),h(e,n),h(e,l)},p(a,o){o&2&&t!==(t=a[13].order.buyerNote+"")&&X(l,t)},d(a){a&&u(e)}}}function re(r){let e,n;return e=new ke({props:{lineItem:r[16]}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){z(e,t,l),n=!0},p(t,l){const a={};l&2&&(a.lineItem=t[16]),e.$set(a)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Be(r){let e;return{c(){e=y("Up")},l(n){e=B(n,"Up")},m(n,t){S(n,e,t)},d(n){n&&u(e)}}}function Oe(r){let e;return{c(){e=y("Down")},l(n){e=B(n,"Down")},m(n,t){S(n,e,t)},d(n){n&&u(e)}}}function Ae(r){let e;return{c(){e=y("Complete")},l(n){e=B(n,"Complete")},m(n,t){S(n,e,t)},d(n){n&&u(e)}}}function Ce(r){let e,n,t,l,a,o,i,s,c,d,V,b,$,A,L,_=r[13].order.buyerNote&&le(r),m=r[13].order.lineItems,f=[];for(let p=0;p<m.length;p+=1)f[p]=re(ne(r,m,p));const U=p=>N(f[p],1,1,()=>{f[p]=null});function J(){return r[6](r[15])}i=new K({props:{disabled:r[15]===0,onclick:J,$$slots:{default:[Be]},$$scope:{ctx:r}}});function ue(){return r[7](r[15])}c=new K({props:{disabled:r[15]===r[1].ordered_breaks.length-1,onclick:ue,$$slots:{default:[Oe]},$$scope:{ctx:r}}});function _e(){return r[8](r[15])}return $=new K({props:{disabled:r[15]!==0,onclick:_e,type:"primary",$$slots:{default:[Ae]},$$scope:{ctx:r}}}),{c(){e=I("span"),n=I("div"),_&&_.c(),t=C(),l=I("div");for(let p=0;p<f.length;p+=1)f[p].c();a=C(),o=I("div"),R(i.$$.fragment),s=C(),R(c.$$.fragment),d=C(),V=I("div"),b=C(),R($.$$.fragment),A=C(),this.h()},l(p){e=D(p,"SPAN",{slot:!0});var g=E(e);n=D(g,"DIV",{class:!0});var P=E(n);_&&_.l(P),t=M(P),l=D(P,"DIV",{class:!0});var q=E(l);for(let v=0;v<f.length;v+=1)f[v].l(q);q.forEach(u),a=M(P),o=D(P,"DIV",{class:!0});var O=E(o);T(i.$$.fragment,O),s=M(O),T(c.$$.fragment,O),d=M(O),V=D(O,"DIV",{class:!0}),E(V).forEach(u),b=M(O),T($.$$.fragment,O),O.forEach(u),P.forEach(u),A=M(g),g.forEach(u),this.h()},h(){k(l,"class","flex flex-wrap gap-2"),k(V,"class","grow"),k(o,"class","flex gap-x-1.5 items-end"),k(n,"class","flex flex-col gap-y-2 p-2"),k(e,"slot","content")},m(p,g){S(p,e,g),h(e,n),_&&_.m(n,null),h(n,t),h(n,l);for(let P=0;P<f.length;P+=1)f[P].m(l,null);h(n,a),h(n,o),z(i,o,null),h(o,s),z(c,o,null),h(o,d),h(o,V),h(o,b),z($,o,null),h(e,A),L=!0},p(p,g){if(r=p,r[13].order.buyerNote?_?_.p(r,g):(_=le(r),_.c(),_.m(n,t)):_&&(_.d(1),_=null),g&2){m=r[13].order.lineItems;let v;for(v=0;v<m.length;v+=1){const Y=ne(r,m,v);f[v]?(f[v].p(Y,g),w(f[v],1)):(f[v]=re(Y),f[v].c(),w(f[v],1),f[v].m(l,null))}for(j(),v=m.length;v<f.length;v+=1)U(v);F()}const P={};g&524288&&(P.$$scope={dirty:g,ctx:r}),i.$set(P);const q={};g&2&&(q.disabled=r[15]===r[1].ordered_breaks.length-1),g&524288&&(q.$$scope={dirty:g,ctx:r}),c.$set(q);const O={};g&524288&&(O.$$scope={dirty:g,ctx:r}),$.$set(O)},i(p){if(!L){for(let g=0;g<m.length;g+=1)w(f[g]);w(i.$$.fragment,p),w(c.$$.fragment,p),w($.$$.fragment,p),L=!0}},o(p){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)N(f[g]);N(i.$$.fragment,p),N(c.$$.fragment,p),N($.$$.fragment,p),L=!1},d(p){p&&u(e),_&&_.d(),ce(f,p),G(i),G(c),G($)}}}function se(r){let e,n;return e=new ve({props:{$$slots:{content:[Ce],header:[ye]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){z(e,t,l),n=!0},p(t,l){const a={};l&524291&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Me(r){let e,n,t,l;const a=[De,Ie],o=[];function i(s,c){return s[1].ordered_breaks.length===0?0:1}return e=i(r),n=o[e]=a[e](r),{c(){n.c(),t=Z()},l(s){n.l(s),t=Z()},m(s,c){o[e].m(s,c),S(s,t,c),l=!0},p(s,c){let d=e;e=i(s),e===d?o[e].p(s,c):(j(),N(o[d],1,1,()=>{o[d]=null}),F(),n=o[e],n?n.p(s,c):(n=o[e]=a[e](s),n.c()),w(n,1),n.m(t.parentNode,t))},i(s){l||(w(n),l=!0)},o(s){N(n),l=!1},d(s){o[e].d(s),s&&u(t)}}}function Re(r){let e,n;return e=new we({props:{onLoggedIn:r[12],$$slots:{default:[Me]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){z(e,t,l),n=!0},p(t,[l]){const a={};l&524291&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Te(r,e,n){let t;de(r,ee,_=>n(1,t=_));const l=_=>{},a=_=>{},o=_=>{me(t.ordered_breaks[_].order_id)},i=()=>{he(t.ordered_breaks[s].order_id,{Name:t.ordered_breaks[s].twitch_username}).then(()=>{n(0,s=null)})};let s=null;const c=_=>l(),d=_=>a(),V=_=>o(_);function b(_,m){_[m].twitch_username=this.value,ee.set(t)}return[s,t,l,a,o,i,c,d,V,b,()=>i(),_=>n(0,s=_),()=>{if(pe(be)!==$e.Success)throw new Error("NOT LOGGED IN");ge()}]}class Je extends oe{constructor(e){super(),ae(this,e,Te,Re,ie,{})}}export{Je as default};
